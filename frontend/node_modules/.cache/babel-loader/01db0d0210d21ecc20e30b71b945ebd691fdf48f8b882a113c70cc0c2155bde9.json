{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/Antongiulio/Desktop/PERSONAL PROJECTS/FANTA(I)/FANTACALCIO_AI/frontend/src/pages/Lineup.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { predictionsAPI, squadAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Lineup = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [squad, setSquad] = useState([]);\n  const [selectedFormation, setSelectedFormation] = useState('3-4-3');\n  const [lineup, setLineup] = useState({\n    GK: [],\n    DEF: [],\n    MID: [],\n    FWD: []\n  });\n  const [benchPlayers, setBenchPlayers] = useState([]);\n  const [optimizationLoading, setOptimizationLoading] = useState(false);\n  const [matchday, setMatchday] = useState(1);\n\n  // Available formations\n  const formations = ['3-4-3', '3-5-2', '4-3-3', '4-4-2', '4-5-1', '5-3-2', '5-4-1'];\n  useEffect(() => {\n    const fetchSquadData = async () => {\n      try {\n        setLoading(true);\n        if (!user) {\n          setError('User not authenticated');\n          setLoading(false);\n          return;\n        }\n\n        // Fetch user's squad and predictions\n        const squadResponse = await squadAPI.getSquad(user.id);\n        const predictionsResponse = await predictionsAPI.getPredictions(matchday, {\n          user_id: user.id\n        });\n\n        // If API is not available, use mock data\n        if (!squadResponse.data || !predictionsResponse.data) {\n          // Mock squad data with predictions for the current matchday\n          const mockSquad = [{\n            id: 1,\n            name: 'Lautaro Martinez',\n            team: 'Inter',\n            role: 'FWD',\n            price: 35,\n            prediction: 8.2,\n            opponent: 'Genoa (H)'\n          }, {\n            id: 2,\n            name: 'Rafael Leão',\n            team: 'Milan',\n            role: 'FWD',\n            price: 30,\n            prediction: 7.8,\n            opponent: 'Torino (A)'\n          }, {\n            id: 3,\n            name: 'Hakan Çalhanoğlu',\n            team: 'Inter',\n            role: 'MID',\n            price: 25,\n            prediction: 7.5,\n            opponent: 'Genoa (H)'\n          }, {\n            id: 4,\n            name: 'Khvicha Kvaratskhelia',\n            team: 'Napoli',\n            role: 'FWD',\n            price: 28,\n            prediction: 7.9,\n            opponent: 'Verona (H)'\n          }, {\n            id: 5,\n            name: 'Alessandro Bastoni',\n            team: 'Inter',\n            role: 'DEF',\n            price: 18,\n            prediction: 6.8,\n            opponent: 'Genoa (H)'\n          }, {\n            id: 6,\n            name: 'Mike Maignan',\n            team: 'Milan',\n            role: 'GK',\n            price: 20,\n            prediction: 6.5,\n            opponent: 'Torino (A)'\n          }, {\n            id: 7,\n            name: 'Gleison Bremer',\n            team: 'Juventus',\n            role: 'DEF',\n            price: 17,\n            prediction: 6.7,\n            opponent: 'Como (H)'\n          }, {\n            id: 8,\n            name: 'Giovanni Di Lorenzo',\n            team: 'Napoli',\n            role: 'DEF',\n            price: 16,\n            prediction: 6.6,\n            opponent: 'Verona (H)'\n          }, {\n            id: 9,\n            name: 'Theo Hernández',\n            team: 'Milan',\n            role: 'DEF',\n            price: 22,\n            prediction: 7.2,\n            opponent: 'Torino (A)'\n          }, {\n            id: 10,\n            name: 'Nicolò Barella',\n            team: 'Inter',\n            role: 'MID',\n            price: 23,\n            prediction: 7.3,\n            opponent: 'Genoa (H)'\n          }, {\n            id: 11,\n            name: 'Adrien Rabiot',\n            team: 'Juventus',\n            role: 'MID',\n            price: 18,\n            prediction: 6.9,\n            opponent: 'Como (H)'\n          }, {\n            id: 12,\n            name: 'Matteo Politano',\n            team: 'Napoli',\n            role: 'MID',\n            price: 16,\n            prediction: 6.8,\n            opponent: 'Verona (H)'\n          }, {\n            id: 13,\n            name: 'Davide Frattesi',\n            team: 'Inter',\n            role: 'MID',\n            price: 17,\n            prediction: 6.7,\n            opponent: 'Genoa (H)'\n          }, {\n            id: 14,\n            name: 'Mateo Retegui',\n            team: 'Atalanta',\n            role: 'FWD',\n            price: 19,\n            prediction: 7.1,\n            opponent: 'Lecce (A)'\n          }, {\n            id: 15,\n            name: 'Wojciech Szczęsny',\n            team: 'Juventus',\n            role: 'GK',\n            price: 18,\n            prediction: 6.7,\n            opponent: 'Como (H)'\n          }, {\n            id: 16,\n            name: 'Federico Dimarco',\n            team: 'Inter',\n            role: 'DEF',\n            price: 19,\n            prediction: 7.0,\n            opponent: 'Genoa (H)'\n          }, {\n            id: 17,\n            name: 'Riccardo Calafiori',\n            team: 'Bologna',\n            role: 'DEF',\n            price: 15,\n            prediction: 6.5,\n            opponent: 'Udinese (H)'\n          }, {\n            id: 18,\n            name: 'Teun Koopmeiners',\n            team: 'Atalanta',\n            role: 'MID',\n            price: 22,\n            prediction: 7.4,\n            opponent: 'Lecce (A)'\n          }, {\n            id: 19,\n            name: 'Paulo Dybala',\n            team: 'Roma',\n            role: 'FWD',\n            price: 27,\n            prediction: 7.7,\n            opponent: 'Empoli (H)'\n          }, {\n            id: 20,\n            name: 'Dusan Vlahovic',\n            team: 'Juventus',\n            role: 'FWD',\n            price: 29,\n            prediction: 7.6,\n            opponent: 'Como (H)'\n          }];\n          setSquad(mockSquad);\n          // Initialize with a default lineup based on the selected formation\n          generateInitialLineup(mockSquad, selectedFormation);\n        } else {\n          // Process API data\n          const squadData = squadResponse.data;\n          const predictionsData = predictionsResponse.data;\n\n          // Combine squad and predictions data\n          const squadWithPredictions = squadData.map(player => {\n            const prediction = predictionsData.find(p => p.player_id === player.id);\n            return {\n              ...player,\n              prediction: prediction ? prediction.predicted_score : 6.0,\n              confidence: prediction ? prediction.confidence : 0.5\n            };\n          });\n          setSquad(squadWithPredictions);\n          // Initialize with a default lineup based on the selected formation\n          generateInitialLineup(squadWithPredictions, selectedFormation);\n        }\n        setLoading(false);\n      } catch (err) {\n        console.error('Error fetching squad data:', err);\n        setError('Failed to load squad data. Please try again later.');\n        setLoading(false);\n      }\n    };\n    fetchSquadData();\n  }, [user, matchday]);\n\n  // Generate initial lineup based on player predictions\n  const generateInitialLineup = (players, formation) => {\n    const [defCount, midCount, fwdCount] = formation.split('-').map(Number);\n\n    // Sort players by role and prediction\n    const sortedByRole = {\n      GK: [...players.filter(p => p.role === 'GK')].sort((a, b) => b.prediction - a.prediction),\n      DEF: [...players.filter(p => p.role === 'DEF')].sort((a, b) => b.prediction - a.prediction),\n      MID: [...players.filter(p => p.role === 'MID')].sort((a, b) => b.prediction - a.prediction),\n      FWD: [...players.filter(p => p.role === 'FWD')].sort((a, b) => b.prediction - a.prediction)\n    };\n\n    // Select top players for each position based on formation\n    const newLineup = {\n      GK: sortedByRole.GK.slice(0, 1),\n      DEF: sortedByRole.DEF.slice(0, defCount),\n      MID: sortedByRole.MID.slice(0, midCount),\n      FWD: sortedByRole.FWD.slice(0, fwdCount)\n    };\n\n    // Remaining players go to bench\n    const starters = [...newLineup.GK, ...newLineup.DEF, ...newLineup.MID, ...newLineup.FWD];\n    const bench = players.filter(player => !starters.some(starter => starter.id === player.id));\n    setLineup(newLineup);\n    setBenchPlayers(bench);\n  };\n\n  // Handle formation change\n  const handleFormationChange = e => {\n    const newFormation = e.target.value;\n    setSelectedFormation(newFormation);\n    generateInitialLineup(squad, newFormation);\n  };\n\n  // Handle player swap (between lineup and bench)\n  const handlePlayerSwap = (player, isInLineup) => {\n    if (isInLineup) {\n      // Remove from lineup, add to bench\n      const role = player.role;\n      const updatedLineup = {\n        ...lineup,\n        [role]: lineup[role].filter(p => p.id !== player.id)\n      };\n      setBenchPlayers([...benchPlayers, player]);\n      setLineup(updatedLineup);\n    } else {\n      // Check if we can add to lineup (based on formation constraints)\n      const role = player.role;\n      const [defCount, midCount, fwdCount] = selectedFormation.split('-').map(Number);\n      const maxCounts = {\n        GK: 1,\n        DEF: defCount,\n        MID: midCount,\n        FWD: fwdCount\n      };\n      if (lineup[role].length < maxCounts[role]) {\n        // Add to lineup, remove from bench\n        const updatedLineup = {\n          ...lineup,\n          [role]: [...lineup[role], player]\n        };\n        setBenchPlayers(benchPlayers.filter(p => p.id !== player.id));\n        setLineup(updatedLineup);\n      } else {\n        alert(`Cannot add more ${role === 'GK' ? 'goalkeepers' : role === 'DEF' ? 'defenders' : role === 'MID' ? 'midfielders' : 'forwards'} to the current formation (${selectedFormation}).`);\n      }\n    }\n  };\n\n  // Optimize lineup based on predictions\n  const optimizeLineup = async () => {\n    setOptimizationLoading(true);\n    try {\n      if (!user) {\n        setError('User not authenticated');\n        setOptimizationLoading(false);\n        return;\n      }\n\n      // Call the API to get the optimized lineup\n      const response = await predictionsAPI.optimizeFormation(user.id, {\n        formation: selectedFormation,\n        matchday: matchday\n      });\n      if (response && response.data) {\n        // Process API response\n        const optimizedData = response.data;\n\n        // Update lineup based on API response\n        setLineup(optimizedData.lineup || {\n          GK: [],\n          DEF: [],\n          MID: [],\n          FWD: []\n        });\n        setBenchPlayers(optimizedData.bench || []);\n      } else {\n        // Fallback to client-side optimization\n        generateInitialLineup(squad, selectedFormation);\n      }\n      setOptimizationLoading(false);\n    } catch (err) {\n      console.error('Error optimizing lineup:', err);\n      setError('Failed to optimize lineup. Please try again.');\n      setOptimizationLoading(false);\n\n      // Fallback to client-side optimization\n      generateInitialLineup(squad, selectedFormation);\n    }\n  };\n\n  // Calculate average prediction for the current lineup\n  const calculateAveragePrediction = () => {\n    const allPlayers = [...lineup.GK, ...lineup.DEF, ...lineup.MID, ...lineup.FWD];\n    if (allPlayers.length === 0) return 0;\n    const sum = allPlayers.reduce((total, player) => total + player.prediction, 0);\n    return (sum / allPlayers.length).toFixed(2);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\",\n      role: \"alert\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        className: \"font-bold\",\n        children: \"Error!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"block sm:inline\",\n        children: [\" \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-800\",\n        children: \"Lineup Optimizer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"matchday\",\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Matchday\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"matchday\",\n            className: \"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md\",\n            value: matchday,\n            onChange: e => setMatchday(parseInt(e.target.value)),\n            children: [...Array(38)].map((_, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: i + 1,\n              children: [\"Matchday \", i + 1]\n            }, i + 1, true, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"formation\",\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Formation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"formation\",\n            className: \"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md\",\n            value: selectedFormation,\n            onChange: handleFormationChange,\n            children: formations.map(formation => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: formation,\n              children: formation\n            }, formation, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-end\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: optimizeLineup,\n            disabled: optimizationLoading,\n            className: \"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline disabled:opacity-50\",\n            children: optimizationLoading ? 'Optimizing...' : 'Optimize Lineup'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-lg shadow-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-700 mb-2\",\n          children: \"Formation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold text-blue-600\",\n          children: selectedFormation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-lg shadow-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-700 mb-2\",\n          children: \"Average Prediction\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold text-green-600\",\n          children: calculateAveragePrediction()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-lg shadow-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-700 mb-2\",\n          children: \"Starting Players\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold text-purple-600\",\n          children: [lineup.GK.length + lineup.DEF.length + lineup.MID.length + lineup.FWD.length, \" / 11\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-lg shadow-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold text-gray-700 mb-4\",\n        children: \"Lineup Visualization\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative w-full h-[500px] bg-green-600 rounded-lg overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-32 border-2 border-white rounded-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-0 left-1/2 transform -translate-x-1/2 w-0.5 h-full bg-white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-1/2 left-0 transform -translate-y-1/2 w-24 h-48 border-2 border-white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-1/2 right-0 transform -translate-y-1/2 w-24 h-48 border-2 border-white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-1/2 left-0 transform -translate-y-1/2 w-8 h-24 border-2 border-white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-1/2 right-0 transform -translate-y-1/2 w-8 h-24 border-2 border-white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-1/2 left-[5%] transform -translate-y-1/2 flex flex-col items-center\",\n            children: lineup.GK.map(player => /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: () => handlePlayerSwap(player, true),\n              className: \"w-16 h-16 bg-yellow-500 rounded-full flex items-center justify-center mb-2 cursor-pointer hover:bg-yellow-600 transition-colors\",\n              title: `${player.name} (${player.prediction})`,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs font-bold text-white\",\n                  children: player.name.split(' ').pop()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-white\",\n                  children: player.prediction\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 19\n              }, this)\n            }, player.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-0 left-[20%] w-[5%] h-full flex flex-col justify-around items-center\",\n            children: lineup.DEF.map((player, index) => {\n              const totalPlayers = lineup.DEF.length;\n              const position = `${(index + 1) * (100 / (totalPlayers + 1))}%`;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => handlePlayerSwap(player, true),\n                className: \"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center cursor-pointer hover:bg-blue-600 transition-colors\",\n                style: {\n                  position: 'absolute',\n                  top: position\n                },\n                title: `${player.name} (${player.prediction})`,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs font-bold text-white\",\n                    children: player.name.split(' ').pop()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 373,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-white\",\n                    children: player.prediction\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 374,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 21\n                }, this)\n              }, player.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-0 left-[45%] w-[5%] h-full flex flex-col justify-around items-center\",\n            children: lineup.MID.map((player, index) => {\n              const totalPlayers = lineup.MID.length;\n              const position = `${(index + 1) * (100 / (totalPlayers + 1))}%`;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => handlePlayerSwap(player, true),\n                className: \"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center cursor-pointer hover:bg-green-600 transition-colors\",\n                style: {\n                  position: 'absolute',\n                  top: position\n                },\n                title: `${player.name} (${player.prediction})`,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs font-bold text-white\",\n                    children: player.name.split(' ').pop()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 396,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-white\",\n                    children: player.prediction\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 397,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 21\n                }, this)\n              }, player.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-0 left-[70%] w-[5%] h-full flex flex-col justify-around items-center\",\n            children: lineup.FWD.map((player, index) => {\n              const totalPlayers = lineup.FWD.length;\n              const position = `${(index + 1) * (100 / (totalPlayers + 1))}%`;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => handlePlayerSwap(player, true),\n                className: \"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center cursor-pointer hover:bg-red-600 transition-colors\",\n                style: {\n                  position: 'absolute',\n                  top: position\n                },\n                title: `${player.name} (${player.prediction})`,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs font-bold text-white\",\n                    children: player.name.split(' ').pop()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 419,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-white\",\n                    children: player.prediction\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 420,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 21\n                }, this)\n              }, player.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-lg shadow-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold text-gray-700 mb-4\",\n        children: \"Bench Players\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4\",\n        children: benchPlayers.map(player => /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => handlePlayerSwap(player, false),\n          className: \"bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-3 h-3 rounded-full \n                  ${player.role === 'GK' ? 'bg-yellow-500' : player.role === 'DEF' ? 'bg-blue-500' : player.role === 'MID' ? 'bg-green-500' : 'bg-red-500'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium text-gray-800\",\n              children: player.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 flex justify-between text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-600\",\n              children: player.team\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold text-blue-600\",\n              children: player.prediction\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-1 text-xs text-gray-500\",\n            children: [\"vs \", player.opponent]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 15\n          }, this)]\n        }, player.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 261,\n    columnNumber: 5\n  }, this);\n};\n_s(Lineup, \"38xLtRDV1jtzC3aYLQ3VMGZBfAA=\", false, function () {\n  return [useAuth];\n});\n_c = Lineup;\nexport default Lineup;\nvar _c;\n$RefreshReg$(_c, \"Lineup\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","predictionsAPI","squadAPI","jsxDEV","_jsxDEV","Lineup","_s","user","loading","setLoading","error","setError","squad","setSquad","selectedFormation","setSelectedFormation","lineup","setLineup","GK","DEF","MID","FWD","benchPlayers","setBenchPlayers","optimizationLoading","setOptimizationLoading","matchday","setMatchday","formations","fetchSquadData","squadResponse","getSquad","id","predictionsResponse","getPredictions","user_id","data","mockSquad","name","team","role","price","prediction","opponent","generateInitialLineup","squadData","predictionsData","squadWithPredictions","map","player","find","p","player_id","predicted_score","confidence","err","console","players","formation","defCount","midCount","fwdCount","split","Number","sortedByRole","filter","sort","a","b","newLineup","slice","starters","bench","some","starter","handleFormationChange","e","newFormation","target","value","handlePlayerSwap","isInLineup","updatedLineup","maxCounts","length","alert","optimizeLineup","response","optimizeFormation","optimizedData","calculateAveragePrediction","allPlayers","sum","reduce","total","toFixed","className","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","onChange","parseInt","Array","_","i","onClick","disabled","title","pop","index","totalPlayers","position","style","top","_c","$RefreshReg$"],"sources":["/mnt/c/Users/Antongiulio/Desktop/PERSONAL PROJECTS/FANTA(I)/FANTACALCIO_AI/frontend/src/pages/Lineup.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { predictionsAPI, squadAPI } from '../services/api';\r\n\r\nconst Lineup = () => {\r\n  const { user } = useAuth();\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [squad, setSquad] = useState([]);\r\n  const [selectedFormation, setSelectedFormation] = useState('3-4-3');\r\n  const [lineup, setLineup] = useState({\r\n    GK: [],\r\n    DEF: [],\r\n    MID: [],\r\n    FWD: []\r\n  });\r\n  const [benchPlayers, setBenchPlayers] = useState([]);\r\n  const [optimizationLoading, setOptimizationLoading] = useState(false);\r\n  const [matchday, setMatchday] = useState(1);\r\n\r\n  // Available formations\r\n  const formations = ['3-4-3', '3-5-2', '4-3-3', '4-4-2', '4-5-1', '5-3-2', '5-4-1'];\r\n\r\n  useEffect(() => {\r\n    const fetchSquadData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        \r\n        if (!user) {\r\n          setError('User not authenticated');\r\n          setLoading(false);\r\n          return;\r\n        }\r\n        \r\n        // Fetch user's squad and predictions\r\n        const squadResponse = await squadAPI.getSquad(user.id);\r\n        const predictionsResponse = await predictionsAPI.getPredictions(matchday, { user_id: user.id });\r\n        \r\n        // If API is not available, use mock data\r\n        if (!squadResponse.data || !predictionsResponse.data) {\r\n          // Mock squad data with predictions for the current matchday\r\n          const mockSquad = [\r\n            { id: 1, name: 'Lautaro Martinez', team: 'Inter', role: 'FWD', price: 35, prediction: 8.2, opponent: 'Genoa (H)' },\r\n            { id: 2, name: 'Rafael Leão', team: 'Milan', role: 'FWD', price: 30, prediction: 7.8, opponent: 'Torino (A)' },\r\n            { id: 3, name: 'Hakan Çalhanoğlu', team: 'Inter', role: 'MID', price: 25, prediction: 7.5, opponent: 'Genoa (H)' },\r\n            { id: 4, name: 'Khvicha Kvaratskhelia', team: 'Napoli', role: 'FWD', price: 28, prediction: 7.9, opponent: 'Verona (H)' },\r\n            { id: 5, name: 'Alessandro Bastoni', team: 'Inter', role: 'DEF', price: 18, prediction: 6.8, opponent: 'Genoa (H)' },\r\n            { id: 6, name: 'Mike Maignan', team: 'Milan', role: 'GK', price: 20, prediction: 6.5, opponent: 'Torino (A)' },\r\n            { id: 7, name: 'Gleison Bremer', team: 'Juventus', role: 'DEF', price: 17, prediction: 6.7, opponent: 'Como (H)' },\r\n            { id: 8, name: 'Giovanni Di Lorenzo', team: 'Napoli', role: 'DEF', price: 16, prediction: 6.6, opponent: 'Verona (H)' },\r\n            { id: 9, name: 'Theo Hernández', team: 'Milan', role: 'DEF', price: 22, prediction: 7.2, opponent: 'Torino (A)' },\r\n            { id: 10, name: 'Nicolò Barella', team: 'Inter', role: 'MID', price: 23, prediction: 7.3, opponent: 'Genoa (H)' },\r\n            { id: 11, name: 'Adrien Rabiot', team: 'Juventus', role: 'MID', price: 18, prediction: 6.9, opponent: 'Como (H)' },\r\n            { id: 12, name: 'Matteo Politano', team: 'Napoli', role: 'MID', price: 16, prediction: 6.8, opponent: 'Verona (H)' },\r\n            { id: 13, name: 'Davide Frattesi', team: 'Inter', role: 'MID', price: 17, prediction: 6.7, opponent: 'Genoa (H)' },\r\n            { id: 14, name: 'Mateo Retegui', team: 'Atalanta', role: 'FWD', price: 19, prediction: 7.1, opponent: 'Lecce (A)' },\r\n            { id: 15, name: 'Wojciech Szczęsny', team: 'Juventus', role: 'GK', price: 18, prediction: 6.7, opponent: 'Como (H)' },\r\n            { id: 16, name: 'Federico Dimarco', team: 'Inter', role: 'DEF', price: 19, prediction: 7.0, opponent: 'Genoa (H)' },\r\n            { id: 17, name: 'Riccardo Calafiori', team: 'Bologna', role: 'DEF', price: 15, prediction: 6.5, opponent: 'Udinese (H)' },\r\n            { id: 18, name: 'Teun Koopmeiners', team: 'Atalanta', role: 'MID', price: 22, prediction: 7.4, opponent: 'Lecce (A)' },\r\n            { id: 19, name: 'Paulo Dybala', team: 'Roma', role: 'FWD', price: 27, prediction: 7.7, opponent: 'Empoli (H)' },\r\n            { id: 20, name: 'Dusan Vlahovic', team: 'Juventus', role: 'FWD', price: 29, prediction: 7.6, opponent: 'Como (H)' }\r\n          ];\r\n          \r\n          setSquad(mockSquad);\r\n          // Initialize with a default lineup based on the selected formation\r\n          generateInitialLineup(mockSquad, selectedFormation);\r\n        } else {\r\n          // Process API data\r\n          const squadData = squadResponse.data;\r\n          const predictionsData = predictionsResponse.data;\r\n          \r\n          // Combine squad and predictions data\r\n          const squadWithPredictions = squadData.map(player => {\r\n            const prediction = predictionsData.find(p => p.player_id === player.id);\r\n            return {\r\n              ...player,\r\n              prediction: prediction ? prediction.predicted_score : 6.0,\r\n              confidence: prediction ? prediction.confidence : 0.5\r\n            };\r\n          });\r\n          \r\n          setSquad(squadWithPredictions);\r\n          // Initialize with a default lineup based on the selected formation\r\n          generateInitialLineup(squadWithPredictions, selectedFormation);\r\n        }\r\n        \r\n        setLoading(false);\r\n      } catch (err) {\r\n        console.error('Error fetching squad data:', err);\r\n        setError('Failed to load squad data. Please try again later.');\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchSquadData();\r\n  }, [user, matchday]);\r\n  \r\n  // Generate initial lineup based on player predictions\r\n  const generateInitialLineup = (players, formation) => {\r\n    const [defCount, midCount, fwdCount] = formation.split('-').map(Number);\r\n    \r\n    // Sort players by role and prediction\r\n    const sortedByRole = {\r\n      GK: [...players.filter(p => p.role === 'GK')].sort((a, b) => b.prediction - a.prediction),\r\n      DEF: [...players.filter(p => p.role === 'DEF')].sort((a, b) => b.prediction - a.prediction),\r\n      MID: [...players.filter(p => p.role === 'MID')].sort((a, b) => b.prediction - a.prediction),\r\n      FWD: [...players.filter(p => p.role === 'FWD')].sort((a, b) => b.prediction - a.prediction)\r\n    };\r\n    \r\n    // Select top players for each position based on formation\r\n    const newLineup = {\r\n      GK: sortedByRole.GK.slice(0, 1),\r\n      DEF: sortedByRole.DEF.slice(0, defCount),\r\n      MID: sortedByRole.MID.slice(0, midCount),\r\n      FWD: sortedByRole.FWD.slice(0, fwdCount)\r\n    };\r\n    \r\n    // Remaining players go to bench\r\n    const starters = [\r\n      ...newLineup.GK,\r\n      ...newLineup.DEF,\r\n      ...newLineup.MID,\r\n      ...newLineup.FWD\r\n    ];\r\n    \r\n    const bench = players.filter(player => \r\n      !starters.some(starter => starter.id === player.id)\r\n    );\r\n    \r\n    setLineup(newLineup);\r\n    setBenchPlayers(bench);\r\n  };\r\n  \r\n  // Handle formation change\r\n  const handleFormationChange = (e) => {\r\n    const newFormation = e.target.value;\r\n    setSelectedFormation(newFormation);\r\n    generateInitialLineup(squad, newFormation);\r\n  };\r\n  \r\n  // Handle player swap (between lineup and bench)\r\n  const handlePlayerSwap = (player, isInLineup) => {\r\n    if (isInLineup) {\r\n      // Remove from lineup, add to bench\r\n      const role = player.role;\r\n      const updatedLineup = {\r\n        ...lineup,\r\n        [role]: lineup[role].filter(p => p.id !== player.id)\r\n      };\r\n      \r\n      setBenchPlayers([...benchPlayers, player]);\r\n      setLineup(updatedLineup);\r\n    } else {\r\n      // Check if we can add to lineup (based on formation constraints)\r\n      const role = player.role;\r\n      const [defCount, midCount, fwdCount] = selectedFormation.split('-').map(Number);\r\n      const maxCounts = {\r\n        GK: 1,\r\n        DEF: defCount,\r\n        MID: midCount,\r\n        FWD: fwdCount\r\n      };\r\n      \r\n      if (lineup[role].length < maxCounts[role]) {\r\n        // Add to lineup, remove from bench\r\n        const updatedLineup = {\r\n          ...lineup,\r\n          [role]: [...lineup[role], player]\r\n        };\r\n        \r\n        setBenchPlayers(benchPlayers.filter(p => p.id !== player.id));\r\n        setLineup(updatedLineup);\r\n      } else {\r\n        alert(`Cannot add more ${role === 'GK' ? 'goalkeepers' : \r\n              role === 'DEF' ? 'defenders' : \r\n              role === 'MID' ? 'midfielders' : \r\n              'forwards'} to the current formation (${selectedFormation}).`);\r\n      }\r\n    }\r\n  };\r\n  \r\n  // Optimize lineup based on predictions\r\n  const optimizeLineup = async () => {\r\n    setOptimizationLoading(true);\r\n    \r\n    try {\r\n      if (!user) {\r\n        setError('User not authenticated');\r\n        setOptimizationLoading(false);\r\n        return;\r\n      }\r\n      \r\n      // Call the API to get the optimized lineup\r\n      const response = await predictionsAPI.optimizeFormation(user.id, {\r\n        formation: selectedFormation,\r\n        matchday: matchday\r\n      });\r\n      \r\n      if (response && response.data) {\r\n        // Process API response\r\n        const optimizedData = response.data;\r\n        \r\n        // Update lineup based on API response\r\n        setLineup(optimizedData.lineup || {\r\n          GK: [],\r\n          DEF: [],\r\n          MID: [],\r\n          FWD: []\r\n        });\r\n        setBenchPlayers(optimizedData.bench || []);\r\n      } else {\r\n        // Fallback to client-side optimization\r\n        generateInitialLineup(squad, selectedFormation);\r\n      }\r\n      \r\n      setOptimizationLoading(false);\r\n    } catch (err) {\r\n      console.error('Error optimizing lineup:', err);\r\n      setError('Failed to optimize lineup. Please try again.');\r\n      setOptimizationLoading(false);\r\n      \r\n      // Fallback to client-side optimization\r\n      generateInitialLineup(squad, selectedFormation);\r\n    }\r\n  };\r\n  \r\n  // Calculate average prediction for the current lineup\r\n  const calculateAveragePrediction = () => {\r\n    const allPlayers = [\r\n      ...lineup.GK,\r\n      ...lineup.DEF,\r\n      ...lineup.MID,\r\n      ...lineup.FWD\r\n    ];\r\n    \r\n    if (allPlayers.length === 0) return 0;\r\n    \r\n    const sum = allPlayers.reduce((total, player) => total + player.prediction, 0);\r\n    return (sum / allPlayers.length).toFixed(2);\r\n  };\r\n  \r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"></div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  if (error) {\r\n    return (\r\n      <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\r\n        <strong className=\"font-bold\">Error!</strong>\r\n        <span className=\"block sm:inline\"> {error}</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <h1 className=\"text-3xl font-bold text-gray-800\">Lineup Optimizer</h1>\r\n        <div className=\"flex space-x-4\">\r\n          <div>\r\n            <label htmlFor=\"matchday\" className=\"block text-sm font-medium text-gray-700\">Matchday</label>\r\n            <select\r\n              id=\"matchday\"\r\n              className=\"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md\"\r\n              value={matchday}\r\n              onChange={(e) => setMatchday(parseInt(e.target.value))}\r\n            >\r\n              {[...Array(38)].map((_, i) => (\r\n                <option key={i + 1} value={i + 1}>Matchday {i + 1}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"formation\" className=\"block text-sm font-medium text-gray-700\">Formation</label>\r\n            <select\r\n              id=\"formation\"\r\n              className=\"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md\"\r\n              value={selectedFormation}\r\n              onChange={handleFormationChange}\r\n            >\r\n              {formations.map(formation => (\r\n                <option key={formation} value={formation}>{formation}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"flex items-end\">\r\n            <button\r\n              onClick={optimizeLineup}\r\n              disabled={optimizationLoading}\r\n              className=\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline disabled:opacity-50\"\r\n            >\r\n              {optimizationLoading ? 'Optimizing...' : 'Optimize Lineup'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Lineup Stats */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n        <div className=\"bg-white p-4 rounded-lg shadow-md\">\r\n          <h2 className=\"text-lg font-semibold text-gray-700 mb-2\">Formation</h2>\r\n          <div className=\"text-2xl font-bold text-blue-600\">{selectedFormation}</div>\r\n        </div>\r\n        <div className=\"bg-white p-4 rounded-lg shadow-md\">\r\n          <h2 className=\"text-lg font-semibold text-gray-700 mb-2\">Average Prediction</h2>\r\n          <div className=\"text-2xl font-bold text-green-600\">{calculateAveragePrediction()}</div>\r\n        </div>\r\n        <div className=\"bg-white p-4 rounded-lg shadow-md\">\r\n          <h2 className=\"text-lg font-semibold text-gray-700 mb-2\">Starting Players</h2>\r\n          <div className=\"text-2xl font-bold text-purple-600\">\r\n            {lineup.GK.length + lineup.DEF.length + lineup.MID.length + lineup.FWD.length} / 11\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Football Field Visualization */}\r\n      <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n        <h2 className=\"text-xl font-semibold text-gray-700 mb-4\">Lineup Visualization</h2>\r\n        <div className=\"relative w-full h-[500px] bg-green-600 rounded-lg overflow-hidden\">\r\n          {/* Field markings */}\r\n          <div className=\"absolute inset-0 flex flex-col\">\r\n            {/* Center circle */}\r\n            <div className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-32 border-2 border-white rounded-full\"></div>\r\n            {/* Center line */}\r\n            <div className=\"absolute top-0 left-1/2 transform -translate-x-1/2 w-0.5 h-full bg-white\"></div>\r\n            {/* Penalty areas */}\r\n            <div className=\"absolute top-1/2 left-0 transform -translate-y-1/2 w-24 h-48 border-2 border-white\"></div>\r\n            <div className=\"absolute top-1/2 right-0 transform -translate-y-1/2 w-24 h-48 border-2 border-white\"></div>\r\n            {/* Goal areas */}\r\n            <div className=\"absolute top-1/2 left-0 transform -translate-y-1/2 w-8 h-24 border-2 border-white\"></div>\r\n            <div className=\"absolute top-1/2 right-0 transform -translate-y-1/2 w-8 h-24 border-2 border-white\"></div>\r\n          </div>\r\n          \r\n          {/* Players positioning based on formation */}\r\n          <div className=\"absolute inset-0\">\r\n            {/* Goalkeeper */}\r\n            <div className=\"absolute top-1/2 left-[5%] transform -translate-y-1/2 flex flex-col items-center\">\r\n              {lineup.GK.map(player => (\r\n                <div \r\n                  key={player.id}\r\n                  onClick={() => handlePlayerSwap(player, true)}\r\n                  className=\"w-16 h-16 bg-yellow-500 rounded-full flex items-center justify-center mb-2 cursor-pointer hover:bg-yellow-600 transition-colors\"\r\n                  title={`${player.name} (${player.prediction})`}\r\n                >\r\n                  <div className=\"text-center\">\r\n                    <div className=\"text-xs font-bold text-white\">{player.name.split(' ').pop()}</div>\r\n                    <div className=\"text-xs text-white\">{player.prediction}</div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            \r\n            {/* Defenders */}\r\n            <div className=\"absolute top-0 left-[20%] w-[5%] h-full flex flex-col justify-around items-center\">\r\n              {lineup.DEF.map((player, index) => {\r\n                const totalPlayers = lineup.DEF.length;\r\n                const position = `${(index + 1) * (100 / (totalPlayers + 1))}%`;\r\n                \r\n                return (\r\n                  <div \r\n                    key={player.id}\r\n                    onClick={() => handlePlayerSwap(player, true)}\r\n                    className=\"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center cursor-pointer hover:bg-blue-600 transition-colors\"\r\n                    style={{ position: 'absolute', top: position }}\r\n                    title={`${player.name} (${player.prediction})`}\r\n                  >\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-xs font-bold text-white\">{player.name.split(' ').pop()}</div>\r\n                      <div className=\"text-xs text-white\">{player.prediction}</div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n            \r\n            {/* Midfielders */}\r\n            <div className=\"absolute top-0 left-[45%] w-[5%] h-full flex flex-col justify-around items-center\">\r\n              {lineup.MID.map((player, index) => {\r\n                const totalPlayers = lineup.MID.length;\r\n                const position = `${(index + 1) * (100 / (totalPlayers + 1))}%`;\r\n                \r\n                return (\r\n                  <div \r\n                    key={player.id}\r\n                    onClick={() => handlePlayerSwap(player, true)}\r\n                    className=\"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center cursor-pointer hover:bg-green-600 transition-colors\"\r\n                    style={{ position: 'absolute', top: position }}\r\n                    title={`${player.name} (${player.prediction})`}\r\n                  >\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-xs font-bold text-white\">{player.name.split(' ').pop()}</div>\r\n                      <div className=\"text-xs text-white\">{player.prediction}</div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n            \r\n            {/* Forwards */}\r\n            <div className=\"absolute top-0 left-[70%] w-[5%] h-full flex flex-col justify-around items-center\">\r\n              {lineup.FWD.map((player, index) => {\r\n                const totalPlayers = lineup.FWD.length;\r\n                const position = `${(index + 1) * (100 / (totalPlayers + 1))}%`;\r\n                \r\n                return (\r\n                  <div \r\n                    key={player.id}\r\n                    onClick={() => handlePlayerSwap(player, true)}\r\n                    className=\"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center cursor-pointer hover:bg-red-600 transition-colors\"\r\n                    style={{ position: 'absolute', top: position }}\r\n                    title={`${player.name} (${player.prediction})`}\r\n                  >\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-xs font-bold text-white\">{player.name.split(' ').pop()}</div>\r\n                      <div className=\"text-xs text-white\">{player.prediction}</div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Bench Players */}\r\n      <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n        <h2 className=\"text-xl font-semibold text-gray-700 mb-4\">Bench Players</h2>\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4\">\r\n          {benchPlayers.map(player => (\r\n            <div \r\n              key={player.id}\r\n              onClick={() => handlePlayerSwap(player, false)}\r\n              className=\"bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200 transition-colors\"\r\n            >\r\n              <div className=\"flex items-center space-x-2\">\r\n                <div className={`w-3 h-3 rounded-full \r\n                  ${player.role === 'GK' ? 'bg-yellow-500' : \r\n                    player.role === 'DEF' ? 'bg-blue-500' : \r\n                    player.role === 'MID' ? 'bg-green-500' : \r\n                    'bg-red-500'}`}></div>\r\n                <span className=\"font-medium text-gray-800\">{player.name}</span>\r\n              </div>\r\n              <div className=\"mt-2 flex justify-between text-sm\">\r\n                <span className=\"text-gray-600\">{player.team}</span>\r\n                <span className=\"font-semibold text-blue-600\">{player.prediction}</span>\r\n              </div>\r\n              <div className=\"mt-1 text-xs text-gray-500\">\r\n                vs {player.opponent}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Lineup;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,OAAO,QAAQ,yBAAyB;AACjD,SAASC,cAAc,EAAEC,QAAQ,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3D,MAAMC,MAAM,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACnB,MAAM;IAAEC;EAAK,CAAC,GAAGP,OAAO,CAAC,CAAC;EAC1B,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACY,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACc,KAAK,EAAEC,QAAQ,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACgB,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGjB,QAAQ,CAAC,OAAO,CAAC;EACnE,MAAM,CAACkB,MAAM,EAAEC,SAAS,CAAC,GAAGnB,QAAQ,CAAC;IACnCoB,EAAE,EAAE,EAAE;IACNC,GAAG,EAAE,EAAE;IACPC,GAAG,EAAE,EAAE;IACPC,GAAG,EAAE;EACP,CAAC,CAAC;EACF,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGzB,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAAC0B,mBAAmB,EAAEC,sBAAsB,CAAC,GAAG3B,QAAQ,CAAC,KAAK,CAAC;EACrE,MAAM,CAAC4B,QAAQ,EAAEC,WAAW,CAAC,GAAG7B,QAAQ,CAAC,CAAC,CAAC;;EAE3C;EACA,MAAM8B,UAAU,GAAG,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;EAElF7B,SAAS,CAAC,MAAM;IACd,MAAM8B,cAAc,GAAG,MAAAA,CAAA,KAAY;MACjC,IAAI;QACFpB,UAAU,CAAC,IAAI,CAAC;QAEhB,IAAI,CAACF,IAAI,EAAE;UACTI,QAAQ,CAAC,wBAAwB,CAAC;UAClCF,UAAU,CAAC,KAAK,CAAC;UACjB;QACF;;QAEA;QACA,MAAMqB,aAAa,GAAG,MAAM5B,QAAQ,CAAC6B,QAAQ,CAACxB,IAAI,CAACyB,EAAE,CAAC;QACtD,MAAMC,mBAAmB,GAAG,MAAMhC,cAAc,CAACiC,cAAc,CAACR,QAAQ,EAAE;UAAES,OAAO,EAAE5B,IAAI,CAACyB;QAAG,CAAC,CAAC;;QAE/F;QACA,IAAI,CAACF,aAAa,CAACM,IAAI,IAAI,CAACH,mBAAmB,CAACG,IAAI,EAAE;UACpD;UACA,MAAMC,SAAS,GAAG,CAChB;YAAEL,EAAE,EAAE,CAAC;YAAEM,IAAI,EAAE,kBAAkB;YAAEC,IAAI,EAAE,OAAO;YAAEC,IAAI,EAAE,KAAK;YAAEC,KAAK,EAAE,EAAE;YAAEC,UAAU,EAAE,GAAG;YAAEC,QAAQ,EAAE;UAAY,CAAC,EAClH;YAAEX,EAAE,EAAE,CAAC;YAAEM,IAAI,EAAE,aAAa;YAAEC,IAAI,EAAE,OAAO;YAAEC,IAAI,EAAE,KAAK;YAAEC,KAAK,EAAE,EAAE;YAAEC,UAAU,EAAE,GAAG;YAAEC,QAAQ,EAAE;UAAa,CAAC,EAC9G;YAAEX,EAAE,EAAE,CAAC;YAAEM,IAAI,EAAE,kBAAkB;YAAEC,IAAI,EAAE,OAAO;YAAEC,IAAI,EAAE,KAAK;YAAEC,KAAK,EAAE,EAAE;YAAEC,UAAU,EAAE,GAAG;YAAEC,QAAQ,EAAE;UAAY,CAAC,EAClH;YAAEX,EAAE,EAAE,CAAC;YAAEM,IAAI,EAAE,uBAAuB;YAAEC,IAAI,EAAE,QAAQ;YAAEC,IAAI,EAAE,KAAK;YAAEC,KAAK,EAAE,EAAE;YAAEC,UAAU,EAAE,GAAG;YAAEC,QAAQ,EAAE;UAAa,CAAC,EACzH;YAAEX,EAAE,EAAE,CAAC;YAAEM,IAAI,EAAE,oBAAoB;YAAEC,IAAI,EAAE,OAAO;YAAEC,IAAI,EAAE,KAAK;YAAEC,KAAK,EAAE,EAAE;YAAEC,UAAU,EAAE,GAAG;YAAEC,QAAQ,EAAE;UAAY,CAAC,EACpH;YAAEX,EAAE,EAAE,CAAC;YAAEM,IAAI,EAAE,cAAc;YAAEC,IAAI,EAAE,OAAO;YAAEC,IAAI,EAAE,IAAI;YAAEC,KAAK,EAAE,EAAE;YAAEC,UAAU,EAAE,GAAG;YAAEC,QAAQ,EAAE;UAAa,CAAC,EAC9G;YAAEX,EAAE,EAAE,CAAC;YAAEM,IAAI,EAAE,gBAAgB;YAAEC,IAAI,EAAE,UAAU;YAAEC,IAAI,EAAE,KAAK;YAAEC,KAAK,EAAE,EAAE;YAAEC,UAAU,EAAE,GAAG;YAAEC,QAAQ,EAAE;UAAW,CAAC,EAClH;YAAEX,EAAE,EAAE,CAAC;YAAEM,IAAI,EAAE,qBAAqB;YAAEC,IAAI,EAAE,QAAQ;YAAEC,IAAI,EAAE,KAAK;YAAEC,KAAK,EAAE,EAAE;YAAEC,UAAU,EAAE,GAAG;YAAEC,QAAQ,EAAE;UAAa,CAAC,EACvH;YAAEX,EAAE,EAAE,CAAC;YAAEM,IAAI,EAAE,gBAAgB;YAAEC,IAAI,EAAE,OAAO;YAAEC,IAAI,EAAE,KAAK;YAAEC,KAAK,EAAE,EAAE;YAAEC,UAAU,EAAE,GAAG;YAAEC,QAAQ,EAAE;UAAa,CAAC,EACjH;YAAEX,EAAE,EAAE,EAAE;YAAEM,IAAI,EAAE,gBAAgB;YAAEC,IAAI,EAAE,OAAO;YAAEC,IAAI,EAAE,KAAK;YAAEC,KAAK,EAAE,EAAE;YAAEC,UAAU,EAAE,GAAG;YAAEC,QAAQ,EAAE;UAAY,CAAC,EACjH;YAAEX,EAAE,EAAE,EAAE;YAAEM,IAAI,EAAE,eAAe;YAAEC,IAAI,EAAE,UAAU;YAAEC,IAAI,EAAE,KAAK;YAAEC,KAAK,EAAE,EAAE;YAAEC,UAAU,EAAE,GAAG;YAAEC,QAAQ,EAAE;UAAW,CAAC,EAClH;YAAEX,EAAE,EAAE,EAAE;YAAEM,IAAI,EAAE,iBAAiB;YAAEC,IAAI,EAAE,QAAQ;YAAEC,IAAI,EAAE,KAAK;YAAEC,KAAK,EAAE,EAAE;YAAEC,UAAU,EAAE,GAAG;YAAEC,QAAQ,EAAE;UAAa,CAAC,EACpH;YAAEX,EAAE,EAAE,EAAE;YAAEM,IAAI,EAAE,iBAAiB;YAAEC,IAAI,EAAE,OAAO;YAAEC,IAAI,EAAE,KAAK;YAAEC,KAAK,EAAE,EAAE;YAAEC,UAAU,EAAE,GAAG;YAAEC,QAAQ,EAAE;UAAY,CAAC,EAClH;YAAEX,EAAE,EAAE,EAAE;YAAEM,IAAI,EAAE,eAAe;YAAEC,IAAI,EAAE,UAAU;YAAEC,IAAI,EAAE,KAAK;YAAEC,KAAK,EAAE,EAAE;YAAEC,UAAU,EAAE,GAAG;YAAEC,QAAQ,EAAE;UAAY,CAAC,EACnH;YAAEX,EAAE,EAAE,EAAE;YAAEM,IAAI,EAAE,mBAAmB;YAAEC,IAAI,EAAE,UAAU;YAAEC,IAAI,EAAE,IAAI;YAAEC,KAAK,EAAE,EAAE;YAAEC,UAAU,EAAE,GAAG;YAAEC,QAAQ,EAAE;UAAW,CAAC,EACrH;YAAEX,EAAE,EAAE,EAAE;YAAEM,IAAI,EAAE,kBAAkB;YAAEC,IAAI,EAAE,OAAO;YAAEC,IAAI,EAAE,KAAK;YAAEC,KAAK,EAAE,EAAE;YAAEC,UAAU,EAAE,GAAG;YAAEC,QAAQ,EAAE;UAAY,CAAC,EACnH;YAAEX,EAAE,EAAE,EAAE;YAAEM,IAAI,EAAE,oBAAoB;YAAEC,IAAI,EAAE,SAAS;YAAEC,IAAI,EAAE,KAAK;YAAEC,KAAK,EAAE,EAAE;YAAEC,UAAU,EAAE,GAAG;YAAEC,QAAQ,EAAE;UAAc,CAAC,EACzH;YAAEX,EAAE,EAAE,EAAE;YAAEM,IAAI,EAAE,kBAAkB;YAAEC,IAAI,EAAE,UAAU;YAAEC,IAAI,EAAE,KAAK;YAAEC,KAAK,EAAE,EAAE;YAAEC,UAAU,EAAE,GAAG;YAAEC,QAAQ,EAAE;UAAY,CAAC,EACtH;YAAEX,EAAE,EAAE,EAAE;YAAEM,IAAI,EAAE,cAAc;YAAEC,IAAI,EAAE,MAAM;YAAEC,IAAI,EAAE,KAAK;YAAEC,KAAK,EAAE,EAAE;YAAEC,UAAU,EAAE,GAAG;YAAEC,QAAQ,EAAE;UAAa,CAAC,EAC/G;YAAEX,EAAE,EAAE,EAAE;YAAEM,IAAI,EAAE,gBAAgB;YAAEC,IAAI,EAAE,UAAU;YAAEC,IAAI,EAAE,KAAK;YAAEC,KAAK,EAAE,EAAE;YAAEC,UAAU,EAAE,GAAG;YAAEC,QAAQ,EAAE;UAAW,CAAC,CACpH;UAED9B,QAAQ,CAACwB,SAAS,CAAC;UACnB;UACAO,qBAAqB,CAACP,SAAS,EAAEvB,iBAAiB,CAAC;QACrD,CAAC,MAAM;UACL;UACA,MAAM+B,SAAS,GAAGf,aAAa,CAACM,IAAI;UACpC,MAAMU,eAAe,GAAGb,mBAAmB,CAACG,IAAI;;UAEhD;UACA,MAAMW,oBAAoB,GAAGF,SAAS,CAACG,GAAG,CAACC,MAAM,IAAI;YACnD,MAAMP,UAAU,GAAGI,eAAe,CAACI,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,SAAS,KAAKH,MAAM,CAACjB,EAAE,CAAC;YACvE,OAAO;cACL,GAAGiB,MAAM;cACTP,UAAU,EAAEA,UAAU,GAAGA,UAAU,CAACW,eAAe,GAAG,GAAG;cACzDC,UAAU,EAAEZ,UAAU,GAAGA,UAAU,CAACY,UAAU,GAAG;YACnD,CAAC;UACH,CAAC,CAAC;UAEFzC,QAAQ,CAACkC,oBAAoB,CAAC;UAC9B;UACAH,qBAAqB,CAACG,oBAAoB,EAAEjC,iBAAiB,CAAC;QAChE;QAEAL,UAAU,CAAC,KAAK,CAAC;MACnB,CAAC,CAAC,OAAO8C,GAAG,EAAE;QACZC,OAAO,CAAC9C,KAAK,CAAC,4BAA4B,EAAE6C,GAAG,CAAC;QAChD5C,QAAQ,CAAC,oDAAoD,CAAC;QAC9DF,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDoB,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,CAACtB,IAAI,EAAEmB,QAAQ,CAAC,CAAC;;EAEpB;EACA,MAAMkB,qBAAqB,GAAGA,CAACa,OAAO,EAAEC,SAAS,KAAK;IACpD,MAAM,CAACC,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,CAAC,GAAGH,SAAS,CAACI,KAAK,CAAC,GAAG,CAAC,CAACd,GAAG,CAACe,MAAM,CAAC;;IAEvE;IACA,MAAMC,YAAY,GAAG;MACnB9C,EAAE,EAAE,CAAC,GAAGuC,OAAO,CAACQ,MAAM,CAACd,CAAC,IAAIA,CAAC,CAACX,IAAI,KAAK,IAAI,CAAC,CAAC,CAAC0B,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAAC1B,UAAU,GAAGyB,CAAC,CAACzB,UAAU,CAAC;MACzFvB,GAAG,EAAE,CAAC,GAAGsC,OAAO,CAACQ,MAAM,CAACd,CAAC,IAAIA,CAAC,CAACX,IAAI,KAAK,KAAK,CAAC,CAAC,CAAC0B,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAAC1B,UAAU,GAAGyB,CAAC,CAACzB,UAAU,CAAC;MAC3FtB,GAAG,EAAE,CAAC,GAAGqC,OAAO,CAACQ,MAAM,CAACd,CAAC,IAAIA,CAAC,CAACX,IAAI,KAAK,KAAK,CAAC,CAAC,CAAC0B,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAAC1B,UAAU,GAAGyB,CAAC,CAACzB,UAAU,CAAC;MAC3FrB,GAAG,EAAE,CAAC,GAAGoC,OAAO,CAACQ,MAAM,CAACd,CAAC,IAAIA,CAAC,CAACX,IAAI,KAAK,KAAK,CAAC,CAAC,CAAC0B,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAAC1B,UAAU,GAAGyB,CAAC,CAACzB,UAAU;IAC5F,CAAC;;IAED;IACA,MAAM2B,SAAS,GAAG;MAChBnD,EAAE,EAAE8C,YAAY,CAAC9C,EAAE,CAACoD,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;MAC/BnD,GAAG,EAAE6C,YAAY,CAAC7C,GAAG,CAACmD,KAAK,CAAC,CAAC,EAAEX,QAAQ,CAAC;MACxCvC,GAAG,EAAE4C,YAAY,CAAC5C,GAAG,CAACkD,KAAK,CAAC,CAAC,EAAEV,QAAQ,CAAC;MACxCvC,GAAG,EAAE2C,YAAY,CAAC3C,GAAG,CAACiD,KAAK,CAAC,CAAC,EAAET,QAAQ;IACzC,CAAC;;IAED;IACA,MAAMU,QAAQ,GAAG,CACf,GAAGF,SAAS,CAACnD,EAAE,EACf,GAAGmD,SAAS,CAAClD,GAAG,EAChB,GAAGkD,SAAS,CAACjD,GAAG,EAChB,GAAGiD,SAAS,CAAChD,GAAG,CACjB;IAED,MAAMmD,KAAK,GAAGf,OAAO,CAACQ,MAAM,CAAChB,MAAM,IACjC,CAACsB,QAAQ,CAACE,IAAI,CAACC,OAAO,IAAIA,OAAO,CAAC1C,EAAE,KAAKiB,MAAM,CAACjB,EAAE,CACpD,CAAC;IAEDf,SAAS,CAACoD,SAAS,CAAC;IACpB9C,eAAe,CAACiD,KAAK,CAAC;EACxB,CAAC;;EAED;EACA,MAAMG,qBAAqB,GAAIC,CAAC,IAAK;IACnC,MAAMC,YAAY,GAAGD,CAAC,CAACE,MAAM,CAACC,KAAK;IACnChE,oBAAoB,CAAC8D,YAAY,CAAC;IAClCjC,qBAAqB,CAAChC,KAAK,EAAEiE,YAAY,CAAC;EAC5C,CAAC;;EAED;EACA,MAAMG,gBAAgB,GAAGA,CAAC/B,MAAM,EAAEgC,UAAU,KAAK;IAC/C,IAAIA,UAAU,EAAE;MACd;MACA,MAAMzC,IAAI,GAAGS,MAAM,CAACT,IAAI;MACxB,MAAM0C,aAAa,GAAG;QACpB,GAAGlE,MAAM;QACT,CAACwB,IAAI,GAAGxB,MAAM,CAACwB,IAAI,CAAC,CAACyB,MAAM,CAACd,CAAC,IAAIA,CAAC,CAACnB,EAAE,KAAKiB,MAAM,CAACjB,EAAE;MACrD,CAAC;MAEDT,eAAe,CAAC,CAAC,GAAGD,YAAY,EAAE2B,MAAM,CAAC,CAAC;MAC1ChC,SAAS,CAACiE,aAAa,CAAC;IAC1B,CAAC,MAAM;MACL;MACA,MAAM1C,IAAI,GAAGS,MAAM,CAACT,IAAI;MACxB,MAAM,CAACmB,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,CAAC,GAAG/C,iBAAiB,CAACgD,KAAK,CAAC,GAAG,CAAC,CAACd,GAAG,CAACe,MAAM,CAAC;MAC/E,MAAMoB,SAAS,GAAG;QAChBjE,EAAE,EAAE,CAAC;QACLC,GAAG,EAAEwC,QAAQ;QACbvC,GAAG,EAAEwC,QAAQ;QACbvC,GAAG,EAAEwC;MACP,CAAC;MAED,IAAI7C,MAAM,CAACwB,IAAI,CAAC,CAAC4C,MAAM,GAAGD,SAAS,CAAC3C,IAAI,CAAC,EAAE;QACzC;QACA,MAAM0C,aAAa,GAAG;UACpB,GAAGlE,MAAM;UACT,CAACwB,IAAI,GAAG,CAAC,GAAGxB,MAAM,CAACwB,IAAI,CAAC,EAAES,MAAM;QAClC,CAAC;QAED1B,eAAe,CAACD,YAAY,CAAC2C,MAAM,CAACd,CAAC,IAAIA,CAAC,CAACnB,EAAE,KAAKiB,MAAM,CAACjB,EAAE,CAAC,CAAC;QAC7Df,SAAS,CAACiE,aAAa,CAAC;MAC1B,CAAC,MAAM;QACLG,KAAK,CAAC,mBAAmB7C,IAAI,KAAK,IAAI,GAAG,aAAa,GAChDA,IAAI,KAAK,KAAK,GAAG,WAAW,GAC5BA,IAAI,KAAK,KAAK,GAAG,aAAa,GAC9B,UAAU,8BAA8B1B,iBAAiB,IAAI,CAAC;MACtE;IACF;EACF,CAAC;;EAED;EACA,MAAMwE,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC7D,sBAAsB,CAAC,IAAI,CAAC;IAE5B,IAAI;MACF,IAAI,CAAClB,IAAI,EAAE;QACTI,QAAQ,CAAC,wBAAwB,CAAC;QAClCc,sBAAsB,CAAC,KAAK,CAAC;QAC7B;MACF;;MAEA;MACA,MAAM8D,QAAQ,GAAG,MAAMtF,cAAc,CAACuF,iBAAiB,CAACjF,IAAI,CAACyB,EAAE,EAAE;QAC/D0B,SAAS,EAAE5C,iBAAiB;QAC5BY,QAAQ,EAAEA;MACZ,CAAC,CAAC;MAEF,IAAI6D,QAAQ,IAAIA,QAAQ,CAACnD,IAAI,EAAE;QAC7B;QACA,MAAMqD,aAAa,GAAGF,QAAQ,CAACnD,IAAI;;QAEnC;QACAnB,SAAS,CAACwE,aAAa,CAACzE,MAAM,IAAI;UAChCE,EAAE,EAAE,EAAE;UACNC,GAAG,EAAE,EAAE;UACPC,GAAG,EAAE,EAAE;UACPC,GAAG,EAAE;QACP,CAAC,CAAC;QACFE,eAAe,CAACkE,aAAa,CAACjB,KAAK,IAAI,EAAE,CAAC;MAC5C,CAAC,MAAM;QACL;QACA5B,qBAAqB,CAAChC,KAAK,EAAEE,iBAAiB,CAAC;MACjD;MAEAW,sBAAsB,CAAC,KAAK,CAAC;IAC/B,CAAC,CAAC,OAAO8B,GAAG,EAAE;MACZC,OAAO,CAAC9C,KAAK,CAAC,0BAA0B,EAAE6C,GAAG,CAAC;MAC9C5C,QAAQ,CAAC,8CAA8C,CAAC;MACxDc,sBAAsB,CAAC,KAAK,CAAC;;MAE7B;MACAmB,qBAAqB,CAAChC,KAAK,EAAEE,iBAAiB,CAAC;IACjD;EACF,CAAC;;EAED;EACA,MAAM4E,0BAA0B,GAAGA,CAAA,KAAM;IACvC,MAAMC,UAAU,GAAG,CACjB,GAAG3E,MAAM,CAACE,EAAE,EACZ,GAAGF,MAAM,CAACG,GAAG,EACb,GAAGH,MAAM,CAACI,GAAG,EACb,GAAGJ,MAAM,CAACK,GAAG,CACd;IAED,IAAIsE,UAAU,CAACP,MAAM,KAAK,CAAC,EAAE,OAAO,CAAC;IAErC,MAAMQ,GAAG,GAAGD,UAAU,CAACE,MAAM,CAAC,CAACC,KAAK,EAAE7C,MAAM,KAAK6C,KAAK,GAAG7C,MAAM,CAACP,UAAU,EAAE,CAAC,CAAC;IAC9E,OAAO,CAACkD,GAAG,GAAGD,UAAU,CAACP,MAAM,EAAEW,OAAO,CAAC,CAAC,CAAC;EAC7C,CAAC;EAED,IAAIvF,OAAO,EAAE;IACX,oBACEJ,OAAA;MAAK4F,SAAS,EAAC,uCAAuC;MAAAC,QAAA,eACpD7F,OAAA;QAAK4F,SAAS,EAAC;MAA2E;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9F,CAAC;EAEV;EAEA,IAAI3F,KAAK,EAAE;IACT,oBACEN,OAAA;MAAK4F,SAAS,EAAC,0EAA0E;MAACxD,IAAI,EAAC,OAAO;MAAAyD,QAAA,gBACpG7F,OAAA;QAAQ4F,SAAS,EAAC,WAAW;QAAAC,QAAA,EAAC;MAAM;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAC7CjG,OAAA;QAAM4F,SAAS,EAAC,iBAAiB;QAAAC,QAAA,GAAC,GAAC,EAACvF,KAAK;MAAA;QAAAwF,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9C,CAAC;EAEV;EAEA,oBACEjG,OAAA;IAAK4F,SAAS,EAAC,WAAW;IAAAC,QAAA,gBACxB7F,OAAA;MAAK4F,SAAS,EAAC,mCAAmC;MAAAC,QAAA,gBAChD7F,OAAA;QAAI4F,SAAS,EAAC,kCAAkC;QAAAC,QAAA,EAAC;MAAgB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACtEjG,OAAA;QAAK4F,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7B7F,OAAA;UAAA6F,QAAA,gBACE7F,OAAA;YAAOkG,OAAO,EAAC,UAAU;YAACN,SAAS,EAAC,yCAAyC;YAAAC,QAAA,EAAC;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC9FjG,OAAA;YACE4B,EAAE,EAAC,UAAU;YACbgE,SAAS,EAAC,gJAAgJ;YAC1JjB,KAAK,EAAErD,QAAS;YAChB6E,QAAQ,EAAG3B,CAAC,IAAKjD,WAAW,CAAC6E,QAAQ,CAAC5B,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAE;YAAAkB,QAAA,EAEtD,CAAC,GAAGQ,KAAK,CAAC,EAAE,CAAC,CAAC,CAACzD,GAAG,CAAC,CAAC0D,CAAC,EAAEC,CAAC,kBACvBvG,OAAA;cAAoB2E,KAAK,EAAE4B,CAAC,GAAG,CAAE;cAAAV,QAAA,GAAC,WAAS,EAACU,CAAC,GAAG,CAAC;YAAA,GAApCA,CAAC,GAAG,CAAC;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAwC,CAC3D;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eACNjG,OAAA;UAAA6F,QAAA,gBACE7F,OAAA;YAAOkG,OAAO,EAAC,WAAW;YAACN,SAAS,EAAC,yCAAyC;YAAAC,QAAA,EAAC;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAChGjG,OAAA;YACE4B,EAAE,EAAC,WAAW;YACdgE,SAAS,EAAC,gJAAgJ;YAC1JjB,KAAK,EAAEjE,iBAAkB;YACzByF,QAAQ,EAAE5B,qBAAsB;YAAAsB,QAAA,EAE/BrE,UAAU,CAACoB,GAAG,CAACU,SAAS,iBACvBtD,OAAA;cAAwB2E,KAAK,EAAErB,SAAU;cAAAuC,QAAA,EAAEvC;YAAS,GAAvCA,SAAS;cAAAwC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAuC,CAC9D;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eACNjG,OAAA;UAAK4F,SAAS,EAAC,gBAAgB;UAAAC,QAAA,eAC7B7F,OAAA;YACEwG,OAAO,EAAEtB,cAAe;YACxBuB,QAAQ,EAAErF,mBAAoB;YAC9BwE,SAAS,EAAC,kIAAkI;YAAAC,QAAA,EAE3IzE,mBAAmB,GAAG,eAAe,GAAG;UAAiB;YAAA0E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpD;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNjG,OAAA;MAAK4F,SAAS,EAAC,uCAAuC;MAAAC,QAAA,gBACpD7F,OAAA;QAAK4F,SAAS,EAAC,mCAAmC;QAAAC,QAAA,gBAChD7F,OAAA;UAAI4F,SAAS,EAAC,0CAA0C;UAAAC,QAAA,EAAC;QAAS;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACvEjG,OAAA;UAAK4F,SAAS,EAAC,kCAAkC;UAAAC,QAAA,EAAEnF;QAAiB;UAAAoF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxE,CAAC,eACNjG,OAAA;QAAK4F,SAAS,EAAC,mCAAmC;QAAAC,QAAA,gBAChD7F,OAAA;UAAI4F,SAAS,EAAC,0CAA0C;UAAAC,QAAA,EAAC;QAAkB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAChFjG,OAAA;UAAK4F,SAAS,EAAC,mCAAmC;UAAAC,QAAA,EAAEP,0BAA0B,CAAC;QAAC;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpF,CAAC,eACNjG,OAAA;QAAK4F,SAAS,EAAC,mCAAmC;QAAAC,QAAA,gBAChD7F,OAAA;UAAI4F,SAAS,EAAC,0CAA0C;UAAAC,QAAA,EAAC;QAAgB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC9EjG,OAAA;UAAK4F,SAAS,EAAC,oCAAoC;UAAAC,QAAA,GAChDjF,MAAM,CAACE,EAAE,CAACkE,MAAM,GAAGpE,MAAM,CAACG,GAAG,CAACiE,MAAM,GAAGpE,MAAM,CAACI,GAAG,CAACgE,MAAM,GAAGpE,MAAM,CAACK,GAAG,CAAC+D,MAAM,EAAC,OAChF;QAAA;UAAAc,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNjG,OAAA;MAAK4F,SAAS,EAAC,mCAAmC;MAAAC,QAAA,gBAChD7F,OAAA;QAAI4F,SAAS,EAAC,0CAA0C;QAAAC,QAAA,EAAC;MAAoB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAClFjG,OAAA;QAAK4F,SAAS,EAAC,mEAAmE;QAAAC,QAAA,gBAEhF7F,OAAA;UAAK4F,SAAS,EAAC,gCAAgC;UAAAC,QAAA,gBAE7C7F,OAAA;YAAK4F,SAAS,EAAC;UAAoH;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAE1IjG,OAAA;YAAK4F,SAAS,EAAC;UAA0E;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAEhGjG,OAAA;YAAK4F,SAAS,EAAC;UAAoF;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC1GjG,OAAA;YAAK4F,SAAS,EAAC;UAAqF;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAE3GjG,OAAA;YAAK4F,SAAS,EAAC;UAAmF;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACzGjG,OAAA;YAAK4F,SAAS,EAAC;UAAoF;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvG,CAAC,eAGNjG,OAAA;UAAK4F,SAAS,EAAC,kBAAkB;UAAAC,QAAA,gBAE/B7F,OAAA;YAAK4F,SAAS,EAAC,kFAAkF;YAAAC,QAAA,EAC9FjF,MAAM,CAACE,EAAE,CAAC8B,GAAG,CAACC,MAAM,iBACnB7C,OAAA;cAEEwG,OAAO,EAAEA,CAAA,KAAM5B,gBAAgB,CAAC/B,MAAM,EAAE,IAAI,CAAE;cAC9C+C,SAAS,EAAC,iIAAiI;cAC3Ic,KAAK,EAAE,GAAG7D,MAAM,CAACX,IAAI,KAAKW,MAAM,CAACP,UAAU,GAAI;cAAAuD,QAAA,eAE/C7F,OAAA;gBAAK4F,SAAS,EAAC,aAAa;gBAAAC,QAAA,gBAC1B7F,OAAA;kBAAK4F,SAAS,EAAC,8BAA8B;kBAAAC,QAAA,EAAEhD,MAAM,CAACX,IAAI,CAACwB,KAAK,CAAC,GAAG,CAAC,CAACiD,GAAG,CAAC;gBAAC;kBAAAb,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAClFjG,OAAA;kBAAK4F,SAAS,EAAC,oBAAoB;kBAAAC,QAAA,EAAEhD,MAAM,CAACP;gBAAU;kBAAAwD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1D;YAAC,GARDpD,MAAM,CAACjB,EAAE;cAAAkE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OASX,CACN;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAGNjG,OAAA;YAAK4F,SAAS,EAAC,mFAAmF;YAAAC,QAAA,EAC/FjF,MAAM,CAACG,GAAG,CAAC6B,GAAG,CAAC,CAACC,MAAM,EAAE+D,KAAK,KAAK;cACjC,MAAMC,YAAY,GAAGjG,MAAM,CAACG,GAAG,CAACiE,MAAM;cACtC,MAAM8B,QAAQ,GAAG,GAAG,CAACF,KAAK,GAAG,CAAC,KAAK,GAAG,IAAIC,YAAY,GAAG,CAAC,CAAC,CAAC,GAAG;cAE/D,oBACE7G,OAAA;gBAEEwG,OAAO,EAAEA,CAAA,KAAM5B,gBAAgB,CAAC/B,MAAM,EAAE,IAAI,CAAE;gBAC9C+C,SAAS,EAAC,wHAAwH;gBAClImB,KAAK,EAAE;kBAAED,QAAQ,EAAE,UAAU;kBAAEE,GAAG,EAAEF;gBAAS,CAAE;gBAC/CJ,KAAK,EAAE,GAAG7D,MAAM,CAACX,IAAI,KAAKW,MAAM,CAACP,UAAU,GAAI;gBAAAuD,QAAA,eAE/C7F,OAAA;kBAAK4F,SAAS,EAAC,aAAa;kBAAAC,QAAA,gBAC1B7F,OAAA;oBAAK4F,SAAS,EAAC,8BAA8B;oBAAAC,QAAA,EAAEhD,MAAM,CAACX,IAAI,CAACwB,KAAK,CAAC,GAAG,CAAC,CAACiD,GAAG,CAAC;kBAAC;oBAAAb,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eAClFjG,OAAA;oBAAK4F,SAAS,EAAC,oBAAoB;oBAAAC,QAAA,EAAEhD,MAAM,CAACP;kBAAU;oBAAAwD,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC1D;cAAC,GATDpD,MAAM,CAACjB,EAAE;gBAAAkE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAUX,CAAC;YAEV,CAAC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAGNjG,OAAA;YAAK4F,SAAS,EAAC,mFAAmF;YAAAC,QAAA,EAC/FjF,MAAM,CAACI,GAAG,CAAC4B,GAAG,CAAC,CAACC,MAAM,EAAE+D,KAAK,KAAK;cACjC,MAAMC,YAAY,GAAGjG,MAAM,CAACI,GAAG,CAACgE,MAAM;cACtC,MAAM8B,QAAQ,GAAG,GAAG,CAACF,KAAK,GAAG,CAAC,KAAK,GAAG,IAAIC,YAAY,GAAG,CAAC,CAAC,CAAC,GAAG;cAE/D,oBACE7G,OAAA;gBAEEwG,OAAO,EAAEA,CAAA,KAAM5B,gBAAgB,CAAC/B,MAAM,EAAE,IAAI,CAAE;gBAC9C+C,SAAS,EAAC,0HAA0H;gBACpImB,KAAK,EAAE;kBAAED,QAAQ,EAAE,UAAU;kBAAEE,GAAG,EAAEF;gBAAS,CAAE;gBAC/CJ,KAAK,EAAE,GAAG7D,MAAM,CAACX,IAAI,KAAKW,MAAM,CAACP,UAAU,GAAI;gBAAAuD,QAAA,eAE/C7F,OAAA;kBAAK4F,SAAS,EAAC,aAAa;kBAAAC,QAAA,gBAC1B7F,OAAA;oBAAK4F,SAAS,EAAC,8BAA8B;oBAAAC,QAAA,EAAEhD,MAAM,CAACX,IAAI,CAACwB,KAAK,CAAC,GAAG,CAAC,CAACiD,GAAG,CAAC;kBAAC;oBAAAb,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eAClFjG,OAAA;oBAAK4F,SAAS,EAAC,oBAAoB;oBAAAC,QAAA,EAAEhD,MAAM,CAACP;kBAAU;oBAAAwD,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC1D;cAAC,GATDpD,MAAM,CAACjB,EAAE;gBAAAkE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAUX,CAAC;YAEV,CAAC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAGNjG,OAAA;YAAK4F,SAAS,EAAC,mFAAmF;YAAAC,QAAA,EAC/FjF,MAAM,CAACK,GAAG,CAAC2B,GAAG,CAAC,CAACC,MAAM,EAAE+D,KAAK,KAAK;cACjC,MAAMC,YAAY,GAAGjG,MAAM,CAACK,GAAG,CAAC+D,MAAM;cACtC,MAAM8B,QAAQ,GAAG,GAAG,CAACF,KAAK,GAAG,CAAC,KAAK,GAAG,IAAIC,YAAY,GAAG,CAAC,CAAC,CAAC,GAAG;cAE/D,oBACE7G,OAAA;gBAEEwG,OAAO,EAAEA,CAAA,KAAM5B,gBAAgB,CAAC/B,MAAM,EAAE,IAAI,CAAE;gBAC9C+C,SAAS,EAAC,sHAAsH;gBAChImB,KAAK,EAAE;kBAAED,QAAQ,EAAE,UAAU;kBAAEE,GAAG,EAAEF;gBAAS,CAAE;gBAC/CJ,KAAK,EAAE,GAAG7D,MAAM,CAACX,IAAI,KAAKW,MAAM,CAACP,UAAU,GAAI;gBAAAuD,QAAA,eAE/C7F,OAAA;kBAAK4F,SAAS,EAAC,aAAa;kBAAAC,QAAA,gBAC1B7F,OAAA;oBAAK4F,SAAS,EAAC,8BAA8B;oBAAAC,QAAA,EAAEhD,MAAM,CAACX,IAAI,CAACwB,KAAK,CAAC,GAAG,CAAC,CAACiD,GAAG,CAAC;kBAAC;oBAAAb,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eAClFjG,OAAA;oBAAK4F,SAAS,EAAC,oBAAoB;oBAAAC,QAAA,EAAEhD,MAAM,CAACP;kBAAU;oBAAAwD,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC1D;cAAC,GATDpD,MAAM,CAACjB,EAAE;gBAAAkE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAUX,CAAC;YAEV,CAAC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNjG,OAAA;MAAK4F,SAAS,EAAC,mCAAmC;MAAAC,QAAA,gBAChD7F,OAAA;QAAI4F,SAAS,EAAC,0CAA0C;QAAAC,QAAA,EAAC;MAAa;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC3EjG,OAAA;QAAK4F,SAAS,EAAC,sDAAsD;QAAAC,QAAA,EAClE3E,YAAY,CAAC0B,GAAG,CAACC,MAAM,iBACtB7C,OAAA;UAEEwG,OAAO,EAAEA,CAAA,KAAM5B,gBAAgB,CAAC/B,MAAM,EAAE,KAAK,CAAE;UAC/C+C,SAAS,EAAC,+EAA+E;UAAAC,QAAA,gBAEzF7F,OAAA;YAAK4F,SAAS,EAAC,6BAA6B;YAAAC,QAAA,gBAC1C7F,OAAA;cAAK4F,SAAS,EAAE;AAChC,oBAAoB/C,MAAM,CAACT,IAAI,KAAK,IAAI,GAAG,eAAe,GACtCS,MAAM,CAACT,IAAI,KAAK,KAAK,GAAG,aAAa,GACrCS,MAAM,CAACT,IAAI,KAAK,KAAK,GAAG,cAAc,GACtC,YAAY;YAAG;cAAA0D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC1BjG,OAAA;cAAM4F,SAAS,EAAC,2BAA2B;cAAAC,QAAA,EAAEhD,MAAM,CAACX;YAAI;cAAA4D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7D,CAAC,eACNjG,OAAA;YAAK4F,SAAS,EAAC,mCAAmC;YAAAC,QAAA,gBAChD7F,OAAA;cAAM4F,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAEhD,MAAM,CAACV;YAAI;cAAA2D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACpDjG,OAAA;cAAM4F,SAAS,EAAC,6BAA6B;cAAAC,QAAA,EAAEhD,MAAM,CAACP;YAAU;cAAAwD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrE,CAAC,eACNjG,OAAA;YAAK4F,SAAS,EAAC,4BAA4B;YAAAC,QAAA,GAAC,KACvC,EAAChD,MAAM,CAACN,QAAQ;UAAA;YAAAuD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChB,CAAC;QAAA,GAlBDpD,MAAM,CAACjB,EAAE;UAAAkE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAmBX,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC/F,EAAA,CAxcID,MAAM;EAAA,QACOL,OAAO;AAAA;AAAAqH,EAAA,GADpBhH,MAAM;AA0cZ,eAAeA,MAAM;AAAC,IAAAgH,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}